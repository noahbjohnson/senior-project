
Economic Data Processing (MADDISON)
===================================

    Maddison Project Database, version 2018. Bolt, Jutta, Robert
    Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), “Rebasing
    ‘Maddison’: new income comparisons and the shape of long-run
    economic development”, Maddison Project Working paper 10

Data Dictionary
---------------

+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Full data           | Data in single table                                                                                                                                                        |
+=====================+=============================================================================================================================================================================+
| countrycode         | 3-letter ISO country code                                                                                                                                                   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| country             | Country name                                                                                                                                                                |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| year                | Year                                                                                                                                                                        |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| cgdppc              | Real GDP per capita in 2011US$, multiple benchmarks (suitable for cross-country income comparisons)                                                                         |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| rgdpnapc            | Real GDP per capita in 2011US$, 2011 benchmark (suitable for cross-country growth comparisons)                                                                              |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pop                 | Population, mid-year (thousands)                                                                                                                                            |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| i\_cig              | 0/1/2: observation is extrapolated (0), benchmark (1), or interpolated (2)                                                                                                  |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| i\_bm               | For benchmark observations: 1: ICP PPP estimates, 2: Historical income benchmarks, 3: Real wages and urbanization, 4: Multiple of subsistence, 5: Braithwaite (1968) PPPs   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Partial countries   | Data for selected sub-national units with long time series                                                                                                                  |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. code:: ipython3

    import pandas as pd
    import pycountry
    
    %matplotlib inline
    
    pd.set_option('display.float_format', lambda x: '%.3f' % x)

Load The File
-------------

.. code:: ipython3

    df = pd.read_excel("../data/external/Economy/MADDISON/mpd2018.xlsx",
                       sheet_name='Full data')

.. code:: ipython3

    df.sample(5)




.. raw:: html

    <div>
    <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }
    
        .dataframe tbody tr th {
            vertical-align: top;
        }
    
        .dataframe thead th {
            text-align: right;
        }
    </style>
    <table border="1" class="dataframe">
      <thead>
        <tr style="text-align: right;">
          <th></th>
          <th>countrycode</th>
          <th>country</th>
          <th>year</th>
          <th>cgdppc</th>
          <th>rgdpnapc</th>
          <th>pop</th>
          <th>i_cig</th>
          <th>i_bm</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>12631</th>
          <td>NLD</td>
          <td>Netherlands</td>
          <td>1960</td>
          <td>10770.000</td>
          <td>14911.000</td>
          <td>11486.000</td>
          <td>Interpolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>16885</th>
          <td>SWE</td>
          <td>Sweden</td>
          <td>1538</td>
          <td>1334.000</td>
          <td>1678.000</td>
          <td>nan</td>
          <td>Extrapolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>11870</th>
          <td>MRT</td>
          <td>Mauritania</td>
          <td>2000</td>
          <td>1945.000</td>
          <td>2429.000</td>
          <td>2501.000</td>
          <td>Extrapolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>7422</th>
          <td>GTM</td>
          <td>Guatemala</td>
          <td>2004</td>
          <td>5310.000</td>
          <td>5983.000</td>
          <td>11941.000</td>
          <td>Interpolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>19141</th>
          <td>VEN</td>
          <td>Venezuela (Bolivarian Republic of)</td>
          <td>1942</td>
          <td>1917.000</td>
          <td>4512.000</td>
          <td>3934.000</td>
          <td>Extrapolated</td>
          <td>NaN</td>
        </tr>
      </tbody>
    </table>
    </div>



Standardize Country Codes
-------------------------

.. code:: ipython3

    """ Only Select rows with valid country codes
    """
    country_locations = []
    for country in df['countrycode']:
        try:
            pycountry.countries.lookup(country)
            country_locations.append(True)
        except LookupError:
            country_locations.append(False)
    df = df[country_locations]

Standardize Indexes
-------------------

Years (1995≤ x ≥2017)
~~~~~~~~~~~~~~~~~~~~~

.. code:: ipython3

    df = df[df['year'] >= 1995]
    df = df[df['year'] <= 2017]

Reindex & Rename
~~~~~~~~~~~~~~~~

.. code:: ipython3

    df.rename(
        {
            "year": "Year",
            "countrycode": "Country Code",
            "cgdppc": "Maddison GDPPC"
        },
        axis='columns',
        inplace=True)

.. code:: ipython3

    df.set_index(["Country Code", "Year"], inplace=True)

Clean Data
----------

Remove unneeded variables
~~~~~~~~~~~~~~~~~~~~~~~~~

.. code:: ipython3

    df.drop(["country", "i_cig", "i_bm", "rgdpnapc", "pop"],
            axis='columns',
            inplace=True)

Data Types
~~~~~~~~~~

.. code:: ipython3

    df.dtypes




.. parsed-literal::

    Maddison GDPPC    float64
    dtype: object



Save Data
---------

.. code:: ipython3

    df.to_pickle("../data/processed/Economic_MADDISON.pickle")
