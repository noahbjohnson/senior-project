
Economic Data Processing (MADDISON)
===================================

    Maddison Project Database, version 2018. Bolt, Jutta, Robert
    Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), “Rebasing
    ‘Maddison’: new income comparisons and the shape of long-run
    economic development”, Maddison Project Working paper 10

Data Dictionary
---------------

+---------+------------------------------------------------------------------+
| Full    | Data in single table                                             |
| data    |                                                                  |
+=========+==================================================================+
| country | 3-letter ISO country code                                        |
| code    |                                                                  |
+---------+------------------------------------------------------------------+
| country | Country name                                                     |
+---------+------------------------------------------------------------------+
| year    | Year                                                             |
+---------+------------------------------------------------------------------+
| cgdppc  | Real GDP per capita in 2011US$, multiple benchmarks (suitable    |
|         | for cross-country income comparisons)                            |
+---------+------------------------------------------------------------------+
| rgdpnap | Real GDP per capita in 2011US$, 2011 benchmark (suitable for     |
| c       | cross-country growth comparisons)                                |
+---------+------------------------------------------------------------------+
| pop     | Population, mid-year (thousands)                                 |
+---------+------------------------------------------------------------------+
| i\_cig  | 0/1/2: observation is extrapolated (0), benchmark (1), or        |
|         | interpolated (2)                                                 |
+---------+------------------------------------------------------------------+
| i\_bm   | For benchmark observations: 1: ICP PPP estimates, 2: Historical  |
|         | income benchmarks, 3: Real wages and urbanization, 4: Multiple   |
|         | of subsistence, 5: Braithwaite (1968) PPPs                       |
+---------+------------------------------------------------------------------+
| Partial | Data for selected sub-national units with long time series       |
| countri |                                                                  |
| es      |                                                                  |
+---------+------------------------------------------------------------------+

.. code:: ipython3

    import pandas as pd
    import pycountry
    
    %matplotlib inline
    
    pd.set_option('display.float_format', lambda x: '%.3f' % x)

Load The File
-------------

.. code:: ipython3

    df = pd.read_excel("../data/external/Economy/MADDISON/mpd2018.xlsx",
                       sheet_name='Full data')

.. code:: ipython3

    df.sample(5)




.. raw:: html

    <div>
    <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }
    
        .dataframe tbody tr th {
            vertical-align: top;
        }
    
        .dataframe thead th {
            text-align: right;
        }
    </style>
    <table border="1" class="dataframe">
      <thead>
        <tr style="text-align: right;">
          <th></th>
          <th>countrycode</th>
          <th>country</th>
          <th>year</th>
          <th>cgdppc</th>
          <th>rgdpnapc</th>
          <th>pop</th>
          <th>i_cig</th>
          <th>i_bm</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>5031</th>
          <td>EGY</td>
          <td>Egypt</td>
          <td>1998</td>
          <td>5131.000</td>
          <td>8091.000</td>
          <td>64653.000</td>
          <td>Interpolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>19373</th>
          <td>YUG</td>
          <td>Former Yugoslavia</td>
          <td>1925</td>
          <td>926.000</td>
          <td>2131.000</td>
          <td>13378.000</td>
          <td>Extrapolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>11522</th>
          <td>MMR</td>
          <td>Myanmar</td>
          <td>1929</td>
          <td>nan</td>
          <td>nan</td>
          <td>14364.000</td>
          <td>NaN</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>19044</th>
          <td>VEN</td>
          <td>Venezuela (Bolivarian Republic of)</td>
          <td>1845</td>
          <td>848.000</td>
          <td>1996.000</td>
          <td>nan</td>
          <td>Extrapolated</td>
          <td>NaN</td>
        </tr>
        <tr>
          <th>1753</th>
          <td>BLR</td>
          <td>Belarus</td>
          <td>1984</td>
          <td>12285.000</td>
          <td>8584.000</td>
          <td>9914.000</td>
          <td>Extrapolated</td>
          <td>NaN</td>
        </tr>
      </tbody>
    </table>
    </div>



Standardize Country Codes
-------------------------

.. code:: ipython3

    """ Only Select rows with valid country codes
    """
    country_locations = []
    for country in df['countrycode']:
        try:
            pycountry.countries.lookup(country)
            country_locations.append(True)
        except LookupError:
            country_locations.append(False)
    df = df[country_locations]

Standardize Indexes
-------------------

Years (1995≤ x ≥2017)
~~~~~~~~~~~~~~~~~~~~~

.. code:: ipython3

    df = df[df['year'] >= 1995]
    df = df[df['year'] <= 2017]

Reindex & Rename
~~~~~~~~~~~~~~~~

.. code:: ipython3

    df.rename(
        {
            "year": "Year",
            "countrycode": "Country Code",
            "cgdppc": "Maddison GDPPC"
        },
        axis='columns',
        inplace=True)

.. code:: ipython3

    df.set_index(["Country Code", "Year"], inplace=True)

Clean Data
----------

Remove unneeded variables
~~~~~~~~~~~~~~~~~~~~~~~~~

.. code:: ipython3

    df.drop(["country", "i_cig", "i_bm", "rgdpnapc", "pop"],
            axis='columns',
            inplace=True)

Data Types
~~~~~~~~~~

.. code:: ipython3

    df.dtypes




.. parsed-literal::

    Maddison GDPPC    float64
    dtype: object



Save Data
---------

.. code:: ipython3

    df.to_pickle("../data/processed/Economic_MADDISON.pickle")
